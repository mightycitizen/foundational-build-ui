{% if header is empty %}
  {% set header %}
    {% include "@layout/wrapper/header.twig" %}
  {% endset %}
{% endif %}

{% if footer is empty %}
  {% set footer %}
    {% include "@layout/wrapper/footer.twig" %}
  {% endset %}
{% endif %}

{% if hero_section is empty %}
  {% set hero_section %}
    {% include '@components/containers/hero/hero.twig' with hero %}
  {% endset %}
{% endif %}

{% block header %}
  {{ header }}
{% endblock %}

{% if modular_components %}
  {# Full width content (usually made up of modules that use section.twig already) #}
  {{ hero_section }}
  {{ content }}
{% else %}
  {% if sidebar is empty and sidebar_bottom is empty %}
    {# Sidebar layouts have inline hero, otherwise render full width here #}
    {{ hero_section }}
  {% endif %}
  {% embed '@components/sections/section.twig' with {
    padding: padding,
  } %}
    {% block section_content %}
      {% if sidebar or sidebar_bottom %}
        {# Sidebars, hero, and content inside section container #}
        {% include '@layout/structure/content-grid.twig' %}
      {% else %}
        {# Just content inside section container #}
        {{ content }}
      {% endif %}
    {% endblock %}
  {% endembed %}
{% endif %}

{% block footer %}
  {{ footer }}
{% endblock %}
